<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Admin Access | Joram's Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* 1. VIBRANT BRAND PALETTE (From your Dashboard cards) */
            --brand-primary: #83934A;    /* Richer Olive */
            --brand-secondary: #E67E22;  /* Vibrant Terracotta Orange */
            --brand-gradient: linear-gradient(135deg, #83934A 0%, #5B6B34 100%);
            
            /* 2. SURFACES (Soft Cream & Clay) */
            --surface-bg: #EFE6D5;       /* Deeper Cream Background */
            --surface-card: #FFFFFF;
            --surface-accent: #F9F7F2;
            
            /* 3. TEXT & INPUTS */
            --text-title: #3E392F;
            --text-body: #6D6659;
            --border-soft: #DED6C4;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

        body {
            background-color: var(--surface-bg);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        /* Organic Background Blobs */
        .blob {
            position: absolute;
            z-index: 0;
            filter: blur(40px);
            opacity: 0.5;
            border-radius: 50%;
        }
        .blob-1 { width: 500px; height: 500px; background: #D48154; bottom: -100px; left: -150px; }
        .blob-2 { width: 400px; height: 400px; background: #8E9775; top: -50px; right: -50px; }

        .login-card {
            background: var(--surface-card);
            width: 100%;
            max-width: 900px;
            border-radius: 30px;
            display: flex;
            box-shadow: 0 50px 100px rgba(62, 57, 47, 0.15);
            z-index: 10;
            overflow: hidden;
            animation: popIn 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        /* Left Side: Form Content */
        .form-side { flex: 1.1; padding: 60px; }
        
        .form-side h1 { 
            font-size: 32px; 
            color: var(--text-title); 
            margin-bottom: 35px; 
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .input-group { margin-bottom: 25px; }
        .input-group label { 
            display: block; 
            font-size: 11px; 
            font-weight: 800; 
            text-transform: uppercase; 
            color: var(--text-body);
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .standard-input {
            width: 100%;
            padding: 14px 0;
            border: none;
            border-bottom: 2px solid var(--border-soft);
            font-size: 16px;
            color: var(--text-title);
            background: transparent;
            transition: all 0.3s;
        }
        .standard-input:focus { outline: none; border-bottom-color: var(--brand-secondary); }

        /* ADVANCED SECURE CODE BOXES */
        .otp-container { display: flex; gap: 12px; margin-top: 10px; }
        .otp-input {
            width: 100%;
            height: 65px;
            text-align: center;
            font-size: 26px;
            font-weight: 700;
            border: 2px solid var(--border-soft);
            border-radius: 15px;
            background: var(--surface-accent);
            color: var(--brand-secondary);
            transition: all 0.3s ease;
        }
        .otp-input:focus { 
            outline: none; 
            border-color: var(--brand-secondary); 
            background: #fff; 
            box-shadow: 0 10px 20px rgba(230, 126, 34, 0.15);
            transform: scale(1.05);
        }

        .btn-submit {
            background: var(--brand-gradient);
            color: white;
            border: none;
            padding: 18px;
            width: 100%;
            border-radius: 18px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            margin-top: 25px;
            transition: all 0.4s;
            box-shadow: 0 15px 30px rgba(131, 147, 74, 0.4);
        }
        .btn-submit:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 20px 40px rgba(131, 147, 74, 0.5);
            filter: brightness(1.1);
        }

        /* Right Side: Visual Branding */
        .logo-side { 
            flex: 0.9; 
            background: var(--surface-accent); 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            padding: 40px;
            border-left: 1px solid var(--border-soft);
            position: relative;
        }

        .logo-glow {
            width: 120px;
            height: 120px;
            background: var(--brand-secondary);
            filter: blur(50px);
            position: absolute;
            opacity: 0.2;
        }

        .brand-text {
            margin-top: 25px;
            font-weight: 800;
            font-size: 15px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--text-body);
            opacity: 0.6;
        }

        /* Error Message Overlay */
        .error-banner {
            background: #FFEDEA;
            color: #D63031;
            padding: 15px;
            border-radius: 15px;
            font-size: 14px;
            margin-bottom: 25px;
            border: 1px solid #FAB1A0;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            body { overflow-y: auto; }
            .login-card { flex-direction: column-reverse; margin: 20px 0; border-radius: 25px; }
            .logo-side { padding: 50px 20px; border-left: none; border-bottom: 1px solid var(--border-soft); }
            .form-side { padding: 45px 30px; }
            .form-side h1 { text-align: center; font-size: 26px; }
            .otp-input { height: 55px; font-size: 20px; }
        }
    </style>
</head>
<body>

    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>

    <div class="login-card">
        <section class="form-side">
            <h1>Joram's Wholesale and Retail Store</h1>

            {% if messages %}
                {% for message in messages %}
                <div class="error-banner">
                    <span>ðŸš«</span> {{ message }}
                </div>
                {% endfor %}
            {% endif %}

            <form method="POST" id="loginForm">
                {% csrf_token %}
                <div class="input-group">
                    <label>Admin Username</label>
                    <input type="text" name="username" class="standard-input" placeholder="e.g. admin_joram" required autocomplete="off">
                </div>

                <div class="input-group">
                    <label>Admin Password</label>
                    <input type="password" name="password" class="standard-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>

                <div class="input-group">
                    <label>Secure Access Code</label>
                    <div class="otp-container" id="otpBox">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                    </div>
                    <input type="hidden" name="access_code" id="access_code_hidden">
                </div>

                <button type="submit" class="btn-submit">Verify & Access Dashboard</button>
            </form>
        </section>

        <aside class="logo-side">
            <div class="logo-glow"></div>
            <svg width="100" height="100" viewBox="0 0 50 50">
                <path d="M15 15C15 10 20 10 25 10C35 10 35 25 25 35C20 40 10 35 10 25" stroke="var(--text-title)" stroke-width="5" stroke-linecap="round"/>
                <circle cx="35" cy="15" r="5" fill="var(--brand-secondary)"/>
            </svg>
            <div class="brand-text">Management</div>
        </aside>
    </div>

    <script>
        const otpInputs = document.querySelectorAll('.otp-input');
        const hiddenAccessCode = document.getElementById('access_code_hidden');

        otpInputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                input.value = input.value.replace(/[^0-9]/g, '');
                if (input.value && index < otpInputs.length - 1) {
                    otpInputs[index + 1].focus();
                }
                combineOTP();
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !input.value && index > 0) {
                    otpInputs[index - 1].focus();
                }
            });
        });

        function combineOTP() {
            let code = "";
            otpInputs.forEach(input => code += input.value);
            hiddenAccessCode.value = code;
        }
    </script>
</body>
</html>